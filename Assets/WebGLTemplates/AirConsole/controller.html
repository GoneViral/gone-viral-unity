
<html>
<head>
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
  <script type="text/javascript" src="https://www.airconsole.com/api/airconsole-1.7.0.js"></script>
  <style type=text/css>
  /* the style sheet dictates what our elements (buttons, backgrounds etc.) will look like. */
  .up-button{
    /*background-image: url("button.png");*/
    border-color: gray;
    position: absolute;
    top: 30%;
    left: 15%;
    border-radius: 50%;
    width: 20%;
    height: 30%;
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 50%;
  }
  .down-button{
    /*background-image: url("button.png");*/
    border-color: gray;
    position: absolute;
    top: 70%;
    left: 15%;
    border-radius: 50%;
    width: 20%;
    height: 30%;
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 50%;
  }
  .left-button{
    /*background-image: url("button.png");*/
    border-color: gray;
    position: absolute;
    top: 50%;
    left: 00%;
    border-radius: 50%;
    width: 20%;
    height: 30%;
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 50%;
  }
  .right-button{
    /*background-image: url("button.png");*/
    border-color: gray;
    position: absolute;
    top: 50%;
    left: 30%;
    border-radius: 50%;
    width: 20%;
    height: 30%;
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 50%;
  }
  
  .action-button{
    /*background-image: url("button.png");*/
    border-color: gray;
    position: absolute;
    top: 30%;
    left: 50%;
    width: 50%;
    height: 35%;
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 50%;
  }

  .switch-button{
    /*background-image: url("button.png");*/
    border-color: gray;
    position: absolute;
    top: 65%;
    left: 50%;
    width: 50%;
    height: 35%;
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 50%;
  }
  
    .top-bar{
      border-color: gray;
      position: absolute;
      top: 00%;
      left: 00%;
      width: 100%;
      height: 15%;
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 50%;
    }
    

  </style>
  
  
</head>
<body onload="window.app = new App()">
  <!-- Add your HTML elements here -->
  
  <div id ="gamepad-1">

    <div class="top-bar"  style="background-color: blue"></div>
    
    <div class="up-button" ontouchstart="window.app.sendMessageToScreen('up')" style="background-color: blue"></div>
    <div class="down-button" ontouchstart="window.app.sendMessageToScreen('down')" style="background-color: blue"></div>
    <div class="left-button" ontouchstart="window.app.sendMessageToScreen('left')" style="background-color: blue"></div>
    <div class="right-button" ontouchstart="window.app.sendMessageToScreen('right')" style="background-color: blue"></div>

    <div class="action-button" ontouchstart="window.app.sendMessageToScreen('action')" style="background-color: blue"></div>
    <div class="switch-button" ontouchstart="window.app.sendMessageToScreen('switch')" style="background-color: blue"></div>
  </div>

  <div id ="gamepad-2">

    <div class="top-bar"  style="background-color: blue"></div>

    <div class="up-button" ontouchstart="window.app.sendMessageToScreen('up')" style="background-color: red"></div>
   <div class="down-button" ontouchstart="window.app.sendMessageToScreen('down')" style="background-color: red"></div>
    <div class="left-button" ontouchstart="window.app.sendMessageToScreen('left')" style="background-color: red"></div>
    <div class="right-button" ontouchstart="window.app.sendMessageToScreen('right')" style="background-color: red"></div>

    <div class="switch-button" ontouchstart="window.app.sendMessageToScreen('switch')" style="background-color: red"></div>
  </div>

</body>

<script type="text/javascript">

  var airconsole;
  
  var container_1 = document.getElementById("gamepad-1");
  var container_2 = document.getElementById("gamepad-2");

  container_1.style.display = 'block';
  container_2.style.display = 'none';

  function App() {

  /* JavaScript / Functionality. Add functions and evens here */ 
    this.airconsole = new AirConsole({"orientation": "landscape"});
    this.airconsole.onMessage = function(from, data) {
      console.log("onMessage", from, data);
      if(data == "virus"){
        container_1.style.display = 'block';
        container_2.style.display = 'none';
      }else if (data == "human"){
        container_1.style.display = 'none';
        container_2.style.display = 'block';
      }
    };
    
    /*
     * Here we are adding support for mouse events manually.
     * --> WE STRONGLY ENCOURAGE YOU TO USE THE AIRCONSOLE CONTROLS LIBRARY
     * WHICH IS EVEN BETTER (BUT WE DONT WANT TO BLOAT THE CODE HERE).
     * https://github.com/AirConsole/airconsole-controls/
     * 
     * DO NOT USE ONCLICK HANDLERS.
     * THEY ADD A 200MS DELAY!
     */
    if (!("ontouchstart" in document.createElement("div"))) {
      var elements = document.getElementsByTagName("*");
      for (var i = 0; i < elements.length; ++i) {
        var element = elements[i];
        var ontouchstart = element.getAttribute("ontouchstart");
        if (ontouchstart) {
          element.setAttribute("onmousedown", ontouchstart);
        }
        var ontouchend = element.getAttribute("ontouchend");
        if (ontouchend) {
          element.setAttribute("onmouseup", ontouchend);
        }
      }
    }
  }

  App.prototype.sendMessageToScreen = function(msg){
    console.log("button press");
    this.airconsole.message(AirConsole.SCREEN, {"action" : msg});
  }
  
</script>
</html>